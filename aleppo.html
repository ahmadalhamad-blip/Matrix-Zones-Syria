<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Aleppo Zones Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    #map { height: 100vh; width: 100%; }
    .leaflet-interactive { cursor: pointer; }

    /* Top note box (like Homs) */
    #notebox {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.95);
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 8px 12px;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: 700;
      z-index: 1000;
      pointer-events: none;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .zone-tooltip.leaflet-tooltip {
      background: rgba(255,255,204,0.95);
      color: #111;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 4px 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <div id="notebox">Hover over a zone</div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // --- Aleppo GeoJSON ---
    const aleppoZones = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "Aleppo P002": "Aleppo P002" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[36.307100101905974,34.60393575472112],[36.7290953258985,35.57082682499944],[36.85160222317203,35.86672110306958],[36.94524186062931,36.087853369881],[36.95497281860838,36.111342910377395],[36.96192373180256,36.127643828717694],[36.97217246604709,36.151697309193125],[36.95368872251187,36.14741644372817],[36.933297026528024,36.14192505245916],[36.899736674895024,36.12786065954487],[36.82450067478199,36.13739576052468],[36.80599881531013,36.19949655623507],[36.796804386976234,36.23106023219938],[36.84632173490849,36.303410764861866],[36.98056015708198,36.39420480330192],[37.01958567002639,36.39550862153929],[37.187357021834615,36.356920166743635],[37.20099975493319,36.485567835402506],[37.22553160234671,36.709686711627256],[36.649049028889905,36.86013493675097],[36.53606002950801,36.79243331978934],[36.3498166440896,36.31636646538438],[36.19718624151997,36.048186278647535],[36.15123267014792,35.84082201746723],[35.96530033990075,35.99385807741906],[35.776229112411045,35.94629798727745],[35.705488144598604,35.53079341079743],[35.90790458476039,34.6543074570058],[36.02685375188628,34.56215387453649],[36.27521952253662,34.53580802728254],[36.307100101905974,34.60393575472112]]]
          },
          "id": 0
        },
        {
          "type": "Feature",
          "properties": { "Aleppo-P001": "Aleppo-P001" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[35.71053459649215,32.571753575745504],[36.34747293376864,32.33331684777361],[36.832451317905225,32.3024601467303],[38.83786081879997,33.40157692566994],[39.84866441199285,33.88983343116792],[40.62882987309071,34.30491645931053],[40.935592473920025,34.37809684192865],[41.63712081707992,36.27849432153106],[42.058757221056304,36.826257436592],[42.70780044235812,37.068754846039376],[42.42796797873564,37.41036911891841],[38.78493716406835,36.876452492356584],[38.229520420243404,36.96310022882376],[37.651184393488755,36.819076169278674],[37.225457306306964,36.70974059187952],[37.18738635585903,36.35723002699111],[37.195304584437764,36.355208804808825],[37.20191039238678,36.35304633504619],[37.21290170998643,36.35028807420778],[37.40350084417682,36.28478940582964],[37.434322074660614,36.05333382339803],[37.27869434664839,36.04237779017568],[37.157114674498175,36.05430234472752],[37.09035567217367,36.07236257114252],[37.019592463504154,36.09267231162888],[36.991498768048146,36.119217602006856],[36.972171760257936,36.15166366882988],[36.62433277542421,35.33504277086318],[36.27915330742448,34.53670800183555],[36.30927830680572,34.512408488814344],[36.34762926075054,34.48329490037662],[36.39403393155286,34.45146250318494],[36.492707631156065,34.20063398645783],[35.899931489242405,33.77584607547155],[35.57180789564412,33.440613588560275],[35.58081582092302,32.88518007696308],[35.71053459649215,32.571753575745504]]]
          }
        },
        {
          "type": "Feature",
          "properties": { "R002 Aleppo": "R002 Aleppo" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[37.06375575125111,36.25400066810012],[37.0649978183232,36.28466548562264],[37.06695893106259,36.2864950364834],[37.070432419561186,36.28691795094438],[37.08976580828334,36.281989595396496],[37.11911179916103,36.27898476947537],[37.17278986980978,36.274324038570555],[37.22010871360841,36.25060653715116],[37.26008688280028,36.22211698665199],[37.26291320784844,36.213886539668664],[37.25304661411842,36.21146825071958],[37.24696920347012,36.20308237182545],[37.239246906243025,36.192463390219075],[37.28703786273796,36.19327597869044],[37.291346989760186,36.18786803448681],[37.29594167141802,36.182447161630485],[37.25559027044169,36.17681234628036],[37.24245513304487,36.15271144954232],[37.18934751757582,36.14592580203731],[37.152444394749594,36.142001806802575],[37.05301328605468,36.156680474692166],[37.043547543238965,36.164800900961495],[37.02456628735348,36.16227009512451],[37.00529905341095,36.15964673428594],[36.97228047081463,36.15176791123366],[36.99029366870492,36.12101413760131],[37.02039188380297,36.0924274763299],[37.15697223706562,36.05484894524466],[37.278362409239364,36.04335847214498],[37.43414733094053,36.05337820821714],[37.40324669180748,36.28497931076747],[37.27951207365433,36.32724382100233],[37.19485323366729,36.35520424540246],[37.019884325978836,36.39557147552216],[36.981622397044475,36.39397544345323],[36.8452023673168,36.30291846941735],[36.79678591278062,36.23037135610801],[36.81053071039585,36.18404408344204],[36.824275508011084,36.13771681077607],[36.90028356310632,36.127586574021606],[36.932391195787375,36.14165185338922],[36.954516298907535,36.1476440835955],[37.00556024774325,36.159587784616605],[37.04365905351082,36.16514840838234],[37.055209950468445,36.20394888181552],[37.061361175283295,36.22372709973507],[37.06599191039757,36.24441815951241],[37.06375575125111,36.25400066810012]]]
          }
        },
        {
          "type": "Feature",
          "properties": { "ALEPPO_R001_TEST": "ALEPPO_R001_TEST" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[37.09388280847554,36.23080723192399],[37.10715579968811,36.227601120565296],[37.11781040324128,36.23776430766057],[37.12880951513619,36.24906642496626],[37.13608875954387,36.25626433267398],[37.1427002582779,36.257873337451905],[37.16619318366166,36.252914091195464],[37.185115511126746,36.230550109071125],[37.203836643433135,36.20850905241802],[37.211672564362644,36.19942500534673],[37.18617517081552,36.19265838562325],[37.18479269802188,36.17891403652305],[37.17416727420589,36.159355065128665],[37.15429278386604,36.15440838639286],[37.125111085682626,36.16869461076504],[37.09170198698314,36.167737846172926],[37.07233374374408,36.17308898828814],[37.08469041612539,36.183162864894044],[37.08560766257101,36.19818509894925],[37.08905209228749,36.21724616129154],[37.09388388038408,36.23080697160355],[37.06039655837564,36.22145680668547],[37.04355385803812,36.16489398493326],[37.05308421667302,36.157044419859744],[37.09219152550179,36.15117187494875],[37.15234653235972,36.142048745446715],[37.18801182860092,36.14582782803014],[37.2425899552532,36.15290184280592],[37.25608196606987,36.176956406126905],[37.295948747071265,36.182455121439],[37.28702208509088,36.1931697675582],[37.239235382969,36.19247951530569],[37.253016254518315,36.211533238199486],[37.26284209375963,36.214074386184194],[37.25971456566373,36.22210815591346],[37.240132981562226,36.23741084374572],[37.21987395372531,36.25050787060494],[37.19621567644906,36.262932924601444],[37.17322971011993,36.27397239408509],[37.08972901197413,36.281708290111666],[37.07282527365187,36.286380294870554],[37.06951934333789,36.286927232574826],[37.065887427714934,36.285766666261225],[37.06470063582523,36.283160279817366],[37.06563093089659,36.28081810799429],[37.06468841051588,36.272382234782],[37.063783533605815,36.252687117795745],[37.0661750814226,36.24480206335939],[37.06451816192868,36.236338939919456],[37.06039532733857,36.22145595349964],[37.09388280847554,36.23080723192399]]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Aleppo -city-center": "Aleppo -city-center" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[37.16318817531595,36.20054042567547],[37.13600482702205,36.25617643151],[37.1071961133334,36.22760299144586],[37.09387993688327,36.23080519508292],[37.08908290543074,36.21725869621312],[37.08564623991737,36.198258995188475],[37.08486220187642,36.183348060919315],[37.07230217621819,36.173101761196236],[37.09173756399194,36.167682778156866],[37.12510191226676,36.16869221920933],[37.154131645845496,36.15441026698362],[37.174184257450776,36.15935655531392],[37.18477845428387,36.1789145220953],[37.186163623348506,36.19265675296697],[37.2116491867302,36.1993995846876],[37.18770141838567,36.22720031582676],[37.16599691245921,36.252964726971214],[37.14263785701233,36.25788403459941],[37.13599157787834,36.256293207358155],[37.16318817531595,36.20054042567547]]]
          }
        }
      ]
    };

    // Multiplicator mapping
    const multiplicators = {
      "Aleppo -city-center": "0%",
      "ALEPPO_R001_TEST": "20%",
      "R002 Aleppo": "40%",
      "Aleppo-P001": "60%",
      "Aleppo P002": "60%"
    };

    // --- Map setup ---
    const map = L.map('map').setView([36.2, 37.15], 9);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Base style
    function baseStyle() {
      return {
        color: 'black',
        weight: 2,
        opacity: 1,
        fillColor: 'black',
        fillOpacity: 0.35
      };
    }

    // Highlight style
    const highlightStyle = {
      fillColor: '#ffeb3b',
      fillOpacity: 0.18
    };

    const notebox = document.getElementById('notebox');

    function highlightFeature(e) {
      const layer = e.target;
      layer.setStyle(highlightStyle);

      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        layer.bringToFront();
      }

      const name = Object.values(layer.feature.properties)[0] || 'Zone';
      const mult = multiplicators[name] || "N/A";
      notebox.textContent = `${name} - Matrix Multiplicator ${mult}`;
    }

    function resetHighlight(e) {
      geojson.resetStyle(e.target);
      notebox.textContent = 'Hover over a zone';
    }

    function onEachFeature(feature, layer) {
      const name = Object.values(feature.properties)[0] || 'Zone';

      layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight
      });
    }

    const geojson = L.geoJSON(aleppoZones, {
      style: baseStyle,
      onEachFeature
    }).addTo(map);

    map.fitBounds(geojson.getBounds());
  </script>
</body>
</html>
